<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extraction of climatic data from NetCDF files (deprecated) — extractNetCDF • meteoland</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Extraction of climatic data from NetCDF files (deprecated) — extractNetCDF" />
<meta property="og:description" content="This function reads a set of NetCDF files (one per variable) and extracts data for a set of NetCDF cells that are specified using a boundary box (in lon/lat format) or a set of (x,y) grid indices." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">meteoland</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extraction of climatic data from NetCDF files (deprecated)</h1>
    
    <div class="hidden name"><code>extractNetCDF.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function reads a set of NetCDF files (one per variable) and extracts data for a set of NetCDF cells that are specified using a boundary box (in lon/lat format) or a set of (x,y) grid indices.</p>
    </div>

    <pre class="usage"><span class='fu'>extractNetCDF</span><span class='op'>(</span><span class='va'>ncdf_files</span>, bbox <span class='op'>=</span> <span class='cn'>NULL</span>, offset <span class='op'>=</span> <span class='fl'>0</span>, cells <span class='op'>=</span> <span class='cn'>NULL</span>, export <span class='op'>=</span> <span class='cn'>TRUE</span>,
              exportDir <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>, exportFormat <span class='op'>=</span> <span class='st'>"meteoland/txt"</span>, mpfilename <span class='op'>=</span> <span class='st'>"MP.txt"</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ncdf_files</th>
      <td><p>Character vector containing files to read</p></td>
    </tr>
    <tr>
      <th>bbox</th>
      <td><p>Boundary box (2 x 2 matrix) specifying the limit coordinates of a study area (in lon/lat format).</p></td>
    </tr>
    <tr>
      <th>offset</th>
      <td><p>A buffer to include NetCDF cells that are at a certain distance around the boundary box.</p></td>
    </tr>
    <tr>
      <th>cells</th>
      <td><p>A (n x 2) matrix specifying the x and y indices of n cells in a grid.</p></td>
    </tr>
    <tr>
      <th>export</th>
      <td><p>If <code>export = FALSE</code> the extracted data is stored in memory. Otherwise the result is written in the disk (using the format specified in <code>exportFormat</code>).</p></td>
    </tr>
    <tr>
      <th>exportFormat</th>
      <td><p>Export format for meteorological data (see <code><a href='writemeteorologypoint.html'>writemeteorologypoint</a></code>).</p></td>
    </tr>
    <tr>
      <th>exportDir</th>
      <td><p>Output directory for extracted meteorology.</p></td>
    </tr>
    <tr>
      <th>mpfilename</th>
      <td><p>The name of the file that will store the meta data describing all written files.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Function <code>extractNetCDF</code> first identifies which cells in NetCDF data should be extracted according to <code>bbox</code> (or the cells are indicated by the user using <code>cells</code>), and the overall period (days). If neither <code>bbox</code> or <code>cells</code> is supplied, then all NetCDF cells will be processed. For each cell to be processed, the function loops over all files (which can describe different variables and time periods) and extracts the corresponding data. The function transforms units to the units used in <code>meteoland</code>. If specific humidity and mean temperature are available, the function calculates mean relative humidity.</p>
<p>Extracted meteorological data (a data frame with days in rows and meteorological variables in columns) can be stored in an object <code><a href='SpatialPointsMeteorology-class.html'>SpatialPointsMeteorology-class</a></code> or it can be written in the disk (one file per cell). In the latter case, the output format can be chosen and the function also writes a supplementary file containing the meta data (i.e. the coordinates and filename of each file).</p>
<p>Humidity in climate model files is given as specific humidity. This is converted to relative humidity and the conversion may produce values above saturation (&gt;100%) (see also <code><a href='defaultCorrectionParams.html'>defaultCorrectionParams</a></code> for the same issue when performing bias correction).</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>export = FALSE</code>, the function returns an object of class <code><a href='SpatialPointsMeteorology-class.html'>SpatialPointsMeteorology-class</a></code> with the meteorological series for each cell (represented by a spatial point). Otherwise the function returns an object of class <code>SpatialPointsDataFrame-class</code> containing the meta data of the files written in the disk.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Miquel De Cáceres Ainsa, Centre Tecnologic Forestal de Catalunya</p>
<p>Nicolas Martin, INRA-Avignon</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='correctionpoints.html'>correctionpoints</a></code>, <code><a href='writemeteorologypoint.html'>writemeteorologypointfiles</a></code>, <code><a href='SpatialPointsMeteorology-class.html'>SpatialPointsMeteorology-class</a></code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Miquel De Cáceres, Nicolas Martin, Víctor Granda, Antoine Cabon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


